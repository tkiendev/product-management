extends ../../layouts/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/formSreach.pug
include ../../mixins/pagination.pug

block main    

    .card.mb-3
        .card-header.mt-2 
            h4 Bộ lọc và Tìm kiếm
        .card-body
            .row
                .col-8 
                    + filterStatus(btnStatus)
                   
                .col-4
                    + formSreach(keywordSreach)
    .card.mb-3
        .card-header.mt-3
            h4 Danh sách sản phẩm
        .card-body
            form(
                action=`/${prefixAdmin}/produts/change-multi?_method=PATCH`
                method='POST'
                form-change-multi=''
            )
                .d-flex.align-items-start
                    .form-group
                        select(name='type' class='form-control')
                            option(value='active') Hoạt động
                            option(value='inactive') Đưng Hoạt động
                    .form-group
                        input(type='text' name='ids' value='' class='form-control')
                    button(type='submut' class='btn btn-primary') Áp Dụng
            table.table.table-hover.table-sm
                thead
                    tr
                        th 
                            //- input(type='checkbox' name='checkall')
                        th STT
                        th Hình ảnh
                        th Tên sản Phẩm 
                        th Giá 
                        th Giảm (%)
                        th Số lượng 
                        th Trạng thái
                        th Hoạt động
                    tbody
                        each item, index  in product
                            if(item)
                                tr
                                    td
                                        //- input(type='checkbox' name='id' value=item.id)
                                    td #{index + 1}
                                    td 
                                        img(
                                            src=`${item.thumbnail}`
                                            alt=`${item.title}`
                                            width=`100px`
                                            height=`auto`
                                        )
                                    td #{item.title}
                                    td #{item.stringPrice}đ
                                    td #{item.discountPercentage}%
                                    td #{item.stock}
                                    td 
                                        if (item.status === 'active')
                                            a(href="javascript" class = `badge badge-success` data-status=item.status id=item.id) Hoạt Động
                                        else 
                                            a(href="javascript" class = `badge badge-danger`  data-status=item.status id=item.id) Dừng hoạt Động
                                    td 
                                        button(class = `btn btn-warning btn-sm`) Sửa
                                        button(class = `btn btn-danger btn-sm ml-1`) Xóa
                            else 
                                span Không có sản phẩm nào
    
    form(action="" method="GET" change-status path=`${prefixAdmin}/products/change-status`) 
    .row.col-12.d-flex.justify-content-center
        + pagination(paginationPage)