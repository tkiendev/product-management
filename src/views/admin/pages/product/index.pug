extends ../../layouts/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/formSreach.pug
include ../../mixins/pagination.pug
include ../../mixins/formChangeMulti.pug


block main    

    .card.mb-3
        .card-header.mt-2 
            h4 Bộ lọc và Tìm kiếm
        .card-body
            .row
                .col-8 
                    + filterStatus(btnStatus)
                   
                .col-4
                    + formSreach(keywordSreach)
    .card.mb-3
        .card-header.mt-3
            h4 Danh sách sản phẩm
        .card-body
            + formchangeMulti(`${prefixAdmin}/products/change-multi?_method=PATCH`, btnStatus)
            table(class='table table-hover table-sm' table-check)
                thead
                    tr
                        th 
                            input(type='checkbox' name='checkAll')
                        th STT
                        th Hình ảnh
                        th Tên sản Phẩm 
                        th Giá 
                        th Giảm (%)
                        th Số lượng 
                        th Trạng thái
                        th Hoạt động
                    tbody
                        each item, index  in product
                            if(item)
                                tr
                                    td
                                        input(type='checkbox' name='id' check-box value=item.id)
                                    td #{index + 1}
                                    td 
                                        img(
                                            src=`${item.thumbnail}`
                                            alt=`${item.title}`
                                            width=`100px`
                                            height=`auto`
                                        )
                                    td #{item.title}
                                    td #{item.stringPrice}đ
                                    td #{item.discountPercentage}%
                                    td #{item.stock}
                                    td 
                                        if (item.status === 'active')
                                            a(href="javascript" class = `badge badge-success` data-status=item.status id=item.id) Hoạt Động
                                        else 
                                            a(href="javascript" class = `badge badge-danger`  data-status=item.status id=item.id) Dừng hoạt Động
                                    td 
                                        button(class = `btn btn-warning btn-sm`) Sửa
                                        button(class = `btn btn-danger btn-sm ml-1`) Xóa
                            else 
                                span Không có sản phẩm nào
    
    form(action="" method="POST" change-status path=`${prefixAdmin}/products/change-status`) 
    + pagination(paginationPage)