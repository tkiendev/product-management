extends ../../layouts/default.pug

block main
  h1.text-center.mb-4 Danh s√°ch ƒë∆°n h√†ng üßæ

  if orders.length
    each order in orders
      .card.mb-4.shadow-sm
        .card-header.bg-primary.text-white
          h5.mb-0 M√£ ƒë∆°n h√†ng: #{order.id}
        .card-body
          .row
            .col-md-6
              p Ng√†y ƒë·∫∑t: 
                strong #{order.createdAt}
              p Tr·∫°ng th√°i: 
                span.badge.badge-info= order.status
            .col-md-6.text-right
              p T·ªïng ti·ªÅn: 
                strong.text-succes= order.totalAmount.toLocaleString('vi-VN', {style: 'currency', currency: 'VND'})

          h6.mt-4 M·∫∑t h√†ng trong ƒë∆°n:
          if order.product.length
            table.table.table-bordered.table-sm.mt-2
              thead.thead-light
                tr
                  th T√™n s·∫£n ph·∫©m
                  th S·ªë l∆∞·ª£ng
                  th ƒê∆°n gi√°
                  th Th√†nh ti·ªÅn
              tbody
                each item in order.product
                  tr
                    td= item.title
                    td= item.totalQuantityProduct
                    td= item.newPrice.toLocaleString('vi-VN', {style: 'currency', currency: 'VND'})
                    td= item.totalAmountProduct.toLocaleString('vi-VN', {style: 'currency', currency: 'VND'})
          else
            p.text-muted Kh√¥ng c√≥ m·∫∑t h√†ng n√†o trong ƒë∆°n n√†y.
  else
    .alert.alert-warning.text-center B·∫°n ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.

  hr
  .text-right.mt-4
    h5 T·ªïng ti·ªÅn t·∫•t c·∫£ ƒë∆°n h√†ng: 
      span.text-danger.font-weight-bold= totalAmountOrder.toLocaleString('vi-VN', {style: 'currency', currency: 'VND'})